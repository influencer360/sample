import{a as c}from"./chunk-JRESDEDW.js";import{b}from"./chunk-INSRYSWJ.js";import{b as l,c as g}from"./chunk-RBJWJTV5.js";import{a as m}from"./chunk-5M6X2SDJ.js";import{f as n}from"./chunk-62VJZGPO.js";var s=n(c()),u=n(m()),d=n(b());g();hs.util=hs.util||{};hs.util.initPluploadImageUploader=function(p,e){var f=(0,s.default)("#"+p).parent(),t=new window.plupload.Uploader({runtimes:"html5,html4",file_data_name:"Filedata",browse_button:f[0],container:f.parent()[0],max_file_size:"5mb",url:e.uploadPath,filters:[{title:"Image files",extensions:"jpg,jpeg,gif,png"}]});t.bind("Error",function(a,o){o&&o.code==window.plupload.FILE_SIZE_ERROR&&hs.statusObj.update(l._("Image size exceeds limit (5mb)"),"error",!0)}),t.bind("QueueChanged",function(){t.start(),d.default.emit("fileUpload:uploadStarted")}),t.bind("FileUploaded",function(a,o,r){if(typeof e.uploadImageCompleteCallback<"u"&&typeof r<"u"&&typeof r.response<"u")try{var i=JSON.parse(r.response);typeof i.success<"u"&&i.success&&(u.default.isFunction(e.uploadImageCompleteCallback)?e.uploadImageCompleteCallback(i.fileName):u.default.isString(e.uploadImageCompleteCallback)&&hs.util.dashboardWindowProxy(e.uploadImageCompleteCallback,[i.fileName])),typeof e.successCallback>"u"?hs.statusObj.update(l._("Success"),"success",!0):e.successCallback()}catch{typeof e.errorCallback>"u"?hs.statusObj.update(l._("An error occurred, please try again"),"error",!0):e.errorCallback()}}),t.bind("BeforeUpload",function(a){e.csrfToken!==null&&(a.settings.multipart_params={csrfToken:hs.csrfToken})}),t.init()};var _=hs.util.initPluploadImageUploader;
//# sourceMappingURL=chunk-G2EYU3LR.js.map
