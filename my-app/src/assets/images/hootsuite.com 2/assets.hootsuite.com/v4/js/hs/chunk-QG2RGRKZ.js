import{b as h}from"./chunk-OZL6K2YT.js";import{c as y}from"./chunk-LTCHZHOR.js";import{a as m,c as L}from"./chunk-FW7QGJ5I.js";import{b as v,c as A,d as K}from"./chunk-PALMNRBQ.js";import{h as k,i as P}from"./chunk-QYNB3KGD.js";import{b as S}from"./chunk-TS4YQM2V.js";import{b as D}from"./chunk-527EYBTV.js";import{a as T}from"./chunk-JMUJZFCQ.js";import{a as F}from"./chunk-5M6X2SDJ.js";import{b,d as B,f as r}from"./chunk-62VJZGPO.js";var N,O=b(()=>{window.provisionedIndexValue||(window.provisionedIndexValue=2e3);N=function(t){let e=window.provisionedIndexValue;return e+=2,window.provisionedIndexValue=e,t&&(e+=t),e}});var g,x,z,U,V,q,c,_=b(()=>{g=r(T()),x=r(D());L();P();O();K();z="_lightboxContainer",U="80px",V=27,q=k.div`
  position: fixed;
  display: flex;
  top: 0;
  left: 0;
  bottom: 0;
  right: 0;
  background-color: rgba(47, 54, 56, 0.92);
  z-index: ${t=>t.zIndex};
  justify-content: center;
  align-items: center;
  padding: ${U};

  // on small displays and zoomed large displays, reduce padding to give children as much space as possible
  // when zooming, kicks in roughly around 175% on a 13" laptop
  @media (max-width: 960px) {
    padding: 4%;
  }
`,c=class extends g.Component{constructor(e){super(e),this.isAllowedToClose=!0,this.lightboxContainer=document.createElement("div"),this.lightboxContainer.id=`${z}-${A()}`,this.allowClose=this.allowClose.bind(this),this.closeAndRemove=this.closeAndRemove.bind(this),this.onBackgroundClick=e.onBackgroundClick}allowClose(e){this.isAllowedToClose=e}closeAndRemove(e){let o=!0;e&&typeof e=="function"&&(o=e()),typeof o!="boolean"&&(o=!0),this.isAllowedToClose&&o&&(x.default.unmountComponentAtNode(this.lightboxContainer),this.props.onClose())}componentDidMount(){document.body.appendChild(this.lightboxContainer),this.renderToContainer()}componentDidUpdate(){this.renderToContainer()}componentWillUnmount(){document.body.removeChild(this.lightboxContainer)}renderToContainer(){x.default.render(g.createElement(q,{zIndex:N(),onClick:e=>{if(e.target===this.lightboxContainer.children[0])return this.closeAndRemove(this.onBackgroundClick)},onKeyDown:e=>{let{keyCode:o}=e;if(o===V)return this.closeAndRemove(this.onBackgroundClick)}},this.props.children({close:this.closeAndRemove,allowClose:this.allowClose})),this.lightboxContainer)}render(){return null}};c.propTypes={children:m.isRequired,onBackgroundClick:m,onClose:m};c.defaultProps={onBackgroundClick:()=>!1,onClose:()=>{}}});var W={};B(W,{Lightbox:()=>c});var X=b(()=>{_()});var p=r(F());var H={isValidSocialNetworkType:function(t){return p.default.isString(t)&&p.default.contains(h.c.NETWORK_TYPES,t.toUpperCase())},isMultiProfileNetwork:function(t){return p.default.contains(h.c.MULTI_PROFILE_NETWORKS,this.getSocialNetworkFromType(t))},getSocialNetworkFromType:function(t){if(!this.isValidSocialNetworkType(t))return null;if(t=t.toUpperCase(),t==="INSTAGRAMBUSINESS")return t;for(var e=h.c.MULTI_PROFILE_NETWORKS,o=0;o<e.length;o++)if(t.indexOf(e[o])===0)return e[o];return t},getOriginalAvatar:function(t){return t.indexOf("twimg.com")>-1?t.replace(/_(normal|mini|bigger)(\.\w{3,})$/,"$2"):t}};var R=r(v()),a=t=>window.hs&&window.hs.isFeatureEnabled?window.hs.isFeatureEnabled(t):!1,$=t=>window.hs&&window.hs.isFeatureEnabledOrBeta?window.hs.isFeatureEnabledOrBeta(t):!1,w=(t=[])=>new Promise(e=>{if(t==null||!t.length)throw new Error("can([]) expects at least one darklaunch");let o=(0,R.Record)(t.reduce((n,i)=>({...n,[i]:null}),{})),s=t.reduce((n,i)=>({...n,[i]:a(i)}),{});return e(new o(s))});var f=r(T());var M=()=>null,G=(t=[],e=M)=>{let o=w(t);return s=>class extends f.Component{constructor(...n){super(...n),this.state={$dl:null}}componentDidMount(){this.mount=!0,o.then(n=>this.mount&&this.setState({$dl:n}))}componentWillUnmount(){this.mount=!1}render(){return this.state.$dl==null?e(this.props):f.createElement(s,{...this.props,...this.state})}}};var ne=()=>(a("TIKTOK_ORG_LIST")||a("TIKTOK_MEMBER_LIST")||a("TIKTOK_GA"))&&!a("TIKTOK_EXCLUSION_LIST");var l=r(F());var u=r(v()),C=class{constructor(){this.onKeyDown=o=>{let s=this.getLastElement(),n=this.getFocusableElements();if(n.length){let i=n[0],I=this.lastFocusableElements||[n[n.length-1]];if(o.key==="Tab"){o.stopPropagation();let{activeElement:E}=document;o.shiftKey&&(E===i||E===s)?(o.preventDefault(),I[0].focus()):!o.shiftKey&&this.isElementInNodeList(E,I)&&(o.preventDefault(),i.focus())}}},this.elements=(0,u.List)(),this.nodesFocusedBeforeActivation=(0,u.List)(),this.lastFocusableElements=null;let e=["button:not([disabled])","[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[tabindex]:not([tabindex="-1"]):not([data-is-dropdown-item])'];this.focusableElementsSelector=e.join(",")}addElement(e){this.nodesFocusedBeforeActivation=this.nodesFocusedBeforeActivation.push(document.activeElement),this.elements=this.elements.push(e)}getElementIndex(e){return this.elements.findIndex(o=>o===e)}getElements(){return this.elements}getLastElement(){return this.elements.last()}getFocusableElements(){return this.getLastElement()?.querySelectorAll(this.focusableElementsSelector)}safeFocus(e){e&&e!==document.activeElement&&typeof e.focus=="function"&&e.focus()}focus(){let e=this.elements.last();this.safeFocus(e)}restoreFocus(e){let o=this.nodesFocusedBeforeActivation.get(e);this.nodesFocusedBeforeActivation=this.nodesFocusedBeforeActivation.slice(0,e),this.safeFocus(o)}setLastFocusableElements(e){let o=this.getLastElement();this.lastFocusableElements=e&&e.length>0?o?.querySelectorAll(e):null}isElementInNodeList(e,o){for(let s=0;s<o.length;s++)if(o[s]===e)return!0;return!1}trapFocus(){this.getLastElement().addEventListener("keydown",this.onKeyDown)}remove(e){if(e){let o=this.getElementIndex(e);o!==-1&&(this.elements.get(o).removeEventListener("keydown",this.onKeyDown),this.elements=this.elements.delete(o),this.restoreFocus(o))}this.elements.forEach(o=>{document.body&&!document.body.contains(o)&&(this.elements=this.elements.delete(this.getElementIndex(o)))})}reset(){this.elements=(0,u.List)(),this.nodesFocusedBeforeActivation=(0,u.List)()}},d=new C;var ge=y.extend({text:{popupTitle:""},params:{},_params:{resizable:!1,draggable:!0,closeOnEscape:!0,focusable:!1,width:400},popupId:"",initialize:function(t){t&&(l.default.extend(this,l.default.pick(t,"data","template","popupId")),t.params&&l.default.extend(this.params,t.params))},render:function(){var t=this.getPopupParams();if(this.template?t.content=this.getTemplate().render(this.getTmplData()):this.data&&this.data.output&&(t.content=this.data.output),this.setElement(S.create(this.getPopupId(),t)),this.className&&this.$el.addClass(this.className),t.focusable&&(d.addElement(document.querySelector(".-modal")),d.safeFocus(document.querySelector("._close")),d.trapFocus()),l.default.isFunction(this.onRender))return this.onRender()},getPopupId:function(){return this.popupId},getTitle:function(){return this.options&&this.options.title||this.text.popupTitle},getPopupParams:function(){return l.default.bindAll(this,"onPopupClose"),l.default.extend({},this._params,this.params,{title:this.getTitle(),close:this.onPopupClose})},getTmplData:function(){return this.model?this.model.toJSON():null},close:function(){this.$el&&this.$el.dialog("close")},onPopupClose:function(){this.params.focusable&&d.remove(document.querySelector(".-modal")),this.release()}});export{H as a,$ as b,G as c,ne as d,c as e,W as f,X as g,d as h,ge as i};
//# sourceMappingURL=chunk-QG2RGRKZ.js.map
