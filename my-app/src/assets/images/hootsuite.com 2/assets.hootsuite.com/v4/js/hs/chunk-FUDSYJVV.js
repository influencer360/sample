import{b as U}from"./chunk-HFRQAMG4.js";import{a as B}from"./chunk-JRESDEDW.js";import{b as z}from"./chunk-INSRYSWJ.js";import{a as M}from"./chunk-5M6X2SDJ.js";import{f as W}from"./chunk-62VJZGPO.js";var i=W(B()),E=W(M()),N=W(z()),A=W(U()),j=function(){function k(){var m="bubblePopPane",e=[],T=null,F=1e3,h,C,y={},V=this,G=function(t){return e=(0,i.default)("#"+m),e.length||(e=(0,i.default)('<div id="'+m+'" class="animated fadeInLeft"></div>').appendTo("body")),e.html('<div class="_content content"><img src="'+hs.util.rootifyImage("/module-loader-small.gif")+'" alt="" class="spinner _loading" /></div><span class="icon-static-19 tip"></span>'),e.css({width:"",height:""}),e.css({zIndex:A.default.provisionIndex()}),t.width&&e.css("width",t.width),t.height&&e.css("height",t.height),t.cssClass&&e.addClass(t.cssClass),t.inComposeBox&&e.addClass("_keepExpanded"),e},x=function(t){t=t||"h",C={orientation:t}},R=function(){C=null},O=function(t){var n=(0,i.default)(t);return n.length?!!(h&&h.length&&h.get(0)===n.get(0)):!1},S=function(){return!!(e.length&&e.find("._loading").length)},p=function(t){var n=!1;if(t.type=="click"){var o=(0,i.default)(t.target);if(o.attr("id")==m||o.closest("#"+m).length||o.is("._bubblePopup")||o.closest("._bubblePopup").length||o.is("body"))return;n=!0}else(t.type=="scroll"||t.type=="blur")&&(n=!0);n&&V.close()},D=function(){(0,i.default)("body").unbind("click",p),(0,i.default)("#streamsScroll div._body").unbind("scroll",p),(0,i.default)("#streamsContainer").unbind("scroll",p),(0,i.default)("#analyticsContent").unbind("scroll",p)},$=function(){D(),(0,i.default)("body").bind("click",p),(0,i.default)("#streamsScroll div._body").bind("scroll",p),(0,i.default)("#streamsContainer").bind("scroll",p),(0,i.default)("#analyticsContent").bind("scroll",p)},L=function(){setTimeout(function(){var t=(0,i.default)("#"+m);if(!!t.length){var n=Math.ceil(t.position().left),o=t.outerWidth(!0),f=(0,i.default)(window).width(),s=10;n+o+s>f&&t.css({left:"auto",right:0})}},1)};this.isPopupOpen=function(t){return O(t)},this.getCurrentPopup=function(){return e},this.open=function(t,n,o,f,s){if((0,i.default)(t).is("._bubblePopup")||(0,i.default)(t).addClass("_bubblePopup"),O(t)){S()||this.close();return}s=s||{},y=s,this.clearOpenDelay(),h=t?(0,i.default)(t):null,x("h"),G(s),this.detach=s.detach;var r=this;s.isVertical?r.setPositionVertical(null,n,o):r.setPosition(null,n,o),s.autoclose!==!1&&$(),i.default.isFunction(f)&&f(this)},this.openWithDelay=function(t,n,o,f,s){s=s||F,O(t)||(T=setTimeout(function(){V.open(t,n,o,f)},s))},this.openVertical=function(t,n,o,f,s){s=i.default.extend(s,{isVertical:!0}),this.open(t,n,o,f,s)},this.clearOpenDelay=function(){clearTimeout(T)},this.close=function(){e.length&&(e[this.detach===!0?"detach":"remove"](),e=[]),h&&h.length&&h.trigger("close.bubblepopup")&&h.unbind("close.bubblepopup"),h=null,R(),D();let t=document.getElementById("popOverPane");if(t)for(;t.hasChildNodes();)t.removeChild(t.lastChild);clearTimeout(T)},this.setPosition=function(t,n,o){if(!!e.length){var f=14,s=13,r,l,u,b,d="right",v=e.outerWidth(),c=e.outerHeight(),_=(0,i.default)(window).width(),g=(0,i.default)(window).height(),a=t?(0,i.default)(t):h,w=(0,i.default)("#footer").length?(0,i.default)("#footer").position().top:g;if(!n&&!o&&a&&!a.is(":visible")&&!h.is(":visible")&&(o=_/2-v/2,n=g/2-c/2,d="arrowNone"),a&&a.length){var P=a.offset();r=n||P.top,l=o||P.left,u=a.outerWidth(),b=a.outerHeight()}else r=n||0,l=o||0,u=s,b=s;x("h"),r-=c/2-b/2,l+v>_-u||y.pos=="left"?(l=l-f-v,d="left"):l+=u+f,r+c>w&&(r=r-(r+c-w)),(r<0||y.pos=="rightdown"||y.pos=="leftdown")&&(r+=c*.25,d=="left"&&(d="leftdown"),d=="right"&&(d="rightdown"));var H=0,I=_-f-v;l<H?l=H:l>I&&(l=I),e.css("top",r+"px").css("left",l+"px").removeClass("right rightdown left leftdown up down arrowNone").addClass(d),L()}},this.setPositionVertical=function(t,n,o){if(!!e.length){var f=14,s=13,r=(0,i.default)("#footer").length?(0,i.default)("#footer").position().top:(0,i.default)(window).height(),l,u,b,d,v="down",c=e.outerWidth(),_=e.outerHeight(),g=t?(0,i.default)(t):h;if(g&&g.length){var a=g.offset();l=n||a.top,u=o||a.left,b=g.outerHeight(),d=g.outerWidth()}else l=n||0,u=o||0,b=s,d=s;x("v"),u+=d/2-c/2,l+b+_>r||y.pos=="up"?(l=l-f-_,l<0&&(l=0),v="up"):l=l+b;var w,P;if(u+c>(0,i.default)(window).width()){var H=u+c-(0,i.default)(window).width();u-=H,i.default.isFunction(this.getTip)&&(w=this.getTip(),P=-12,w.css("marginLeft",P+H))}else if(u<10){var I=u;u=10,i.default.isFunction(this.getTip)&&(w=this.getTip(),P=-12,w.css("marginLeft",P-Math.abs(I)-10))}e.css("top",l+"px").css("left",u+"px").removeClass("right left up down fadeInLeft").addClass(v+" fadeInDown"),L()}},this.getTip=function(){return e.find(".tip")},this.setContent=function(t){var n=this,o=function(){C&&C.orientation=="v"?n.setPositionVertical():n.setPosition(),N.default.emit("bubblepop:contentSet")};!e.length||(e.find("._content").empty().append(t).find("img").bind("load",function(){E.default.defer(o),(0,i.default)(this).unbind("load")}),E.default.defer(o))},this.setPositionForCurrent=function(){C&&C.orientation=="v"?this.setPositionVertical():this.setPosition()},this.isOpen=function(){return e.length>0}}return new k}();hs.bubblePopup=j;
//# sourceMappingURL=chunk-FUDSYJVV.js.map
